#							-*- Makefile -*-
# ParaStation
#
# Copyright (C) 2002-2004 ParTec AG, Karlsruhe
# Copyright (C) 2005 ParTec Cluster Competence Center GmbH, Munich
#
# This file may be distributed under the terms of the Q Public License
# as defined in the file LICENSE.QPL included in the packaging of this
# file.
#
# Author:	Jens Hauke <hauke@par-tec.com>
#

CFLAGS += -O3 @CFLAG_WALL@ @CFLAG_G@ @CFLAG_COMPAT@
CPPFLAGS += $(LIBINC) $(LIBDEF) @CPPFLAG_MMD@
RANLIB := @RANLIB@

# LIBNAME = psport
# LIBOBJS = psport.o
# LIBVPATH = @srcdir@
# LIBINC = -I@top_srcdir@/include
# LIBDSTDIR = ../..
_LIBDEPS := $(LIBOBJS:.o=@DEPEXTENSION@)
_LIBDESTNAME := $(LIBDSTDIR)/lib$(LIBNAME).a
VPATH += $(LIBVPATH)

all: $(_LIBDESTNAME)

$(_LIBDESTNAME): $(LIBOBJS)
	$(AR) rcv $@ $(LIBOBJS)
	$(RANLIB) $@

clean:
	$(RM) $(LIBOBJS)

distclean:
	$(RM) $(LIBOBJS) $(_LIBDEPS) $(_LIBDESTNAME)

-include $(_LIBDEPS)
